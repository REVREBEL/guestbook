---
import MainLayout from '../../layouts/main.astro';
import { baseUrl } from '../../lib/base-url';

const errorMessage = Astro.url.searchParams.get('message') || 'An unknown error occurred';
---

<MainLayout>
  <div style="min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 2rem; background-color: var(--background);">
    <div style="max-width: 32rem; width: 100%; text-align: center;">
      <div style="width: 4rem; height: 4rem; border-radius: 9999px; background-color: color-mix(in srgb, var(--destructive) 10%, transparent); display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 24 24"
          fill="none"
          stroke="var(--destructive)"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <circle cx="12" cy="12" r="10" />
          <line x1="12" y1="8" x2="12" y2="12" />
          <line x1="12" y1="16" x2="12.01" y2="16" />
        </svg>
      </div>
      
      <h1 style="font-size: 2rem; font-weight: 600; margin-bottom: 1rem; font-family: var(--heading-font); color: var(--foreground);">
        Submission Failed
      </h1>
      
      <p style="color: var(--muted-foreground); margin-bottom: 1rem; font-family: var(--body-font); font-size: 1.125rem;">
        We couldn't process your guestbook entry.
      </p>
      
      <div style="background-color: color-mix(in srgb, var(--destructive) 10%, transparent); border: 1px solid color-mix(in srgb, var(--destructive) 20%, transparent); border-radius: 0.5rem; padding: 1rem; margin-bottom: 2rem;">
        <p style="color: var(--destructive); font-family: var(--body-font); font-size: 0.875rem;">
          {errorMessage}
        </p>
      </div>
      
      <div style="display: flex; gap: 1rem; justify-content: center;">
        <button
          onclick="window.history.back()"
          style="display: inline-flex; align-items: center; gap: 0.5rem; background-color: var(--secondary); color: var(--secondary-foreground); padding: 0.75rem 1.5rem; border-radius: 0.375rem; font-weight: 600; text-decoration: none; font-family: var(--button-font); border: none; cursor: pointer; transition: opacity 0.2s;"
          onmouseover="this.style.opacity='0.9'"
          onmouseout="this.style.opacity='1'"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M19 12H5" />
            <path d="m12 19-7-7 7-7" />
          </svg>
          Go Back
        </button>
        
        <a
          href={`${baseUrl}/guestbook`}
          style="display: inline-flex; align-items: center; gap: 0.5rem; background-color: var(--primary); color: var(--primary-foreground); padding: 0.75rem 1.5rem; border-radius: 0.375rem; font-weight: 600; text-decoration: none; font-family: var(--button-font); transition: opacity 0.2s;"
          onmouseover="this.style.opacity='0.9'"
          onmouseout="this.style.opacity='1'"
        >
          Return to Guestbook
        </a>
      </div>
    </div>
  </div>
</MainLayout>
